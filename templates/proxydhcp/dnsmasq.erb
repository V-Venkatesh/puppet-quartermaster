
# Sample configuration for dnsmasq to function as a proxyDHCP server,
# enabling LTSP clients to boot when an external, unmodifiable DHCP
# server is present.
# The main dnsmasq configuration is in /etc/dnsmasq.conf;
# the contents of this script are added to the main configuration.
# You may modify the file to suit your needs.

# Used to solve name resolution issues

listen-address=127.0.0.1
resolv-file=/run/resolvconf/interface/eth0.dhclient

# Don't function as a DNS server:
#port=0

# Log lots of extra information about DHCP transactions.
log-facility=/var/log/dnsmasq.log
log-queries
log-dhcp

# This range(s) is for the public interface, where dnsmasq functions
# as a proxy DHCP server providing boot information but no IP leases.
# Any ip in the subnet will do, so you may just put your server NIC ip here.
dhcp-range=<%= @ipaddress %>,proxy
pxe-service=x86PC, "Boot from Quartermaster", pxelinux/pxelinux, <%= @ipaddress %>
